<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style/style-acepto.css">
</head>

<body>

    <div class="formulario-container">
        <h1 class="titulo-formulario">TE ESPERAREMOS </h1>

        <div class="video-container">
            <div class="video-text">V√≠deo feliz</div>
        </div>

        <form id="formularioAcepto">
            <div class="campo-formulario">
                <label class="label-campo" for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" class="input-texto"
                    placeholder="Ingresa tu nombre completo" required>
            </div>

            <div class="campo-formulario">
                <label class="label-campo" for="relacion">Relaci√≥n con el cumplea√±ero:</label>
                <div class="campo-relacion">
                    <input type="text" id="relacion" name="relacion" class="input-texto input-relacion"
                        placeholder="Ej: Primo, amigo, vecino..." required>
                    <button type="button" class="boton-audio">üé§</button>
                </div>
            </div>

            <div class="campo-formulario">
                <label class="label-campo" for="mensaje">Mensaje personalizado:</label>
                <p class="texto-instruccion">Env√≠a un mensaje personalizado para el cumplea√±ero:</p>
                <textarea id="mensaje" name="mensaje" class="textarea-mensaje"
                    placeholder="Escribe aqu√≠ tu mensaje de felicitaci√≥n..." required></textarea>
            </div>

             <button class="boton-enviar" onclick="enviarWhatsApp()">
                <span>ACEPTAR INVITACION</span>
            </button>
        </form>
    </div>

    <script>
        const nombre = document.getElementById('nombre').value;
        const relacion = document.getElementById('relacion').value;
        const mensaje = document.getElementById('mensaje').value;
        // Funcionalidad del formulario
        document.getElementById('formularioAcepto').addEventListener('submit', function (e) {
            e.preventDefault();

            if (nombre && relacion && mensaje) {
                // Animaci√≥n de √©xito
                const boton = document.querySelector('.boton-enviar');
                boton.textContent = '¬°Enviado! üéâ';
                boton.style.background = 'linear-gradient(135deg, #2196F3, #1976D2)';

                setTimeout(() => {
                    alert(`¬°Gracias ${nombre}! Tu aceptaci√≥n ha sido enviada. Nos vemos en la fiesta! üéä`);

                    // Resetear formulario despu√©s de 2 segundos
                    setTimeout(() => {
                        this.reset();
                        boton.textContent = 'Aceptar Invitaci√≥n';
                        boton.style.background = 'linear-gradient(135deg, #4CAF50, #45a049)';
                    }, 2000);
                }, 500);
            }
        });


        //funcion para enviar mensaje por whatsapth
   function sendMessage() {
    const name = document.getElementById('nameInput').value.trim();
    const message = document.getElementById('messageTextarea').value.trim();
    const reason = document.getElementById('reasonTextarea').value.trim(); // solo si no asiste

    // Validar campos obligatorios
    if (!name) {
        showNotification('¬°Ohana significa familia! Por favor ingresa tu nombre üíô', 'error');
        document.getElementById('nameInput').focus();
        return;
    }

    if (!message) {
        showNotification('¬°Stitch necesita tu mensaje! No olvides escribir algo bonito üå∫', 'error');
        document.getElementById('messageTextarea').focus();
        return;
    }

    // Construir mensaje para WhatsApp
    let mensajeWhatsApp = `Hola! Soy ${name}. Quiero confirmar que *NO* podr√© asistir al cumplea√±os üò¢`;

    if (reason) {
        mensajeWhatsApp += `.\nMotivo: ${reason}`;
    }

    mensajeWhatsApp += `\n\nMensaje para el cumplea√±ero: ${message}`;

    // N√∫mero de destino (c√°mbialo al n√∫mero real)
    const numeroDestino = "51983612222";
    const url = `https://wa.me/${numeroDestino}?text=${encodeURIComponent(mensajeWhatsApp)}`;

    // Mostrar notificaci√≥n y enviar
    showNotification('¬°Mensaje enviado! Stitch est√° muy feliz üéâ', 'success');
    window.open(url, "_blank");

    // Limpiar el formulario despu√©s
    setTimeout(() => {
        if (confirm('¬øQuieres enviar otro mensaje?')) {
            clearForm();
        }
    }, 2000);

    // Registrar en consola
    console.log('Datos enviados:', {
        nombre: name,
        mensaje: message,
        razon: reason || 'No especificada',
        fecha: new Date().toISOString()
    });
}




        // Funcionalidad del bot√≥n de audio (simulada)
        document.querySelector('.boton-audio').addEventListener('click', function () {
            const input = document.getElementById('relacion');

            // Simular grabaci√≥n de audio
            this.textContent = 'üî¥';
            this.style.background = 'rgba(255, 0, 0, 0.3)';

            setTimeout(() => {
                this.textContent = 'üé§';
                this.style.background = 'rgba(255, 255, 255, 0.2)';

                // Simular transcripci√≥n
                const relaciones = ['Primo hermano', 'Mejor amigo', 'Compa√±ero de trabajo', 'Vecino', 'Amigo de la infancia'];
                const relacionAleatoria = relaciones[Math.floor(Math.random() * relaciones.length)];
                input.value = relacionAleatoria;

                // Efecto de escritura
                input.style.animation = 'focusGlow 0.5s ease-in-out';
            }, 2000);
        });

        // Funcionalidad del video (simulada)
        document.querySelector('.video-container').addEventListener('click', function () {
            this.style.background = 'rgba(255, 255, 255, 0.2)';

            // Simular reproducci√≥n de video
            let contador = 3;
            const intervalo = setInterval(() => {
                this.querySelector('.video-text').textContent = `Reproduciendo... ${contador}s`;
                contador--;

                if (contador < 0) {
                    clearInterval(intervalo);
                    this.querySelector('.video-text').textContent = 'V√≠deo completado ‚úì';
                    this.style.background = 'rgba(76, 175, 80, 0.3)';

                    setTimeout(() => {
                        this.querySelector('.video-text').textContent = 'V√≠deo feliz';
                        this.style.background = 'rgba(255, 255, 255, 0.1)';
                    }, 3000);
                }
            }, 1000);
        });

        // Efectos de entrada suaves para los campos
        const campos = document.querySelectorAll('.campo-formulario');
        campos.forEach((campo, index) => {
            campo.style.opacity = '0';
            campo.style.transform = 'translateY(20px)';

            setTimeout(() => {
                campo.style.transition = 'all 0.5s ease';
                campo.style.opacity = '1';
                campo.style.transform = 'translateY(0)';
            }, 200 * (index + 1));
        });
    </script>
</body>

</html>